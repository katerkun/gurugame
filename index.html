<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle of Love - Official Download</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #2a1b3d;
            background-image: 
                radial-gradient(#44315f 15%, transparent 16%),
                radial-gradient(#44315f 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        .pixel-font {
            font-family: 'Press Start 2P', cursive;
        }

        /* Efectos 3D para el libro */
        .book-container {
            perspective: 1500px;
        }

        .book {
            transform-style: preserve-3d;
            transition: transform 1.5s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .book-cover, .book-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px; /* Bordes redondeados estilo libro suave */
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Portada Frontal */
        .book-cover.front {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            transform-origin: left;
            z-index: 20;
            transition: transform 1.5s cubic-bezier(0.25, 1, 0.5, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid #fff;
        }

        /* Interior del libro (cuando se abre) */
        .book-interior {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            z-index: 10;
            display: flex;
            border-radius: 10px;
            overflow: hidden;
        }

        /* DecoraciÃ³n mÃ¡gica */
        .sparkle {
            animation: sparkle-anim 2s infinite;
        }
        
        @keyframes sparkle-anim {
            0%, 100% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1); opacity: 1; }
        }

        /* Clases de estado del libro */
        .book-closed .book-cover.front {
            transform: rotateY(0deg);
        }

        .book-open .book-cover.front {
            transform: rotateY(-180deg);
        }

        /* AnimaciÃ³n de flotaciÃ³n */
        .floating {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        
        .fade-in {
            animation: fadeIn 1s ease-in forwards;
            opacity: 0;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Iconos SVG simples
        const DownloadIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        );

        const LockIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        );

        const MagicStar = ({ style }) => (
            <div className="absolute text-yellow-400 sparkle" style={style}>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            </div>
        );

        const App = () => {
            // Estados: 'closed', 'opening', 'scene1', 'password', 'scene2', 'closing'
            const [stage, setStage] = useState('closed');
            const [password, setPassword] = useState('');
            const [error, setError] = useState(false);

            // CÃ³digo secreto para desbloquear la segunda parte
            const SECRET_CODE = "GURU"; 

            // Manejadores
            const handleOpenBook = () => {
                setStage('opening');
                setTimeout(() => setStage('scene1'), 1500);
            };

            const handleFirstDownload = () => {
                // Simular descarga
                const link = document.createElement('a');
                link.href = '#'; // AquÃ­ pondrÃ­as el link real
                link.setAttribute('download', 'CircleOfLove_Demo.zip');
                // document.body.appendChild(link); // Descomentar en producciÃ³n
                // link.click(); 
                
                // Pasar a la pantalla de password
                setTimeout(() => setStage('password'), 1000);
            };

            const handlePasswordSubmit = (e) => {
                e.preventDefault();
                if (password.toUpperCase() === SECRET_CODE) {
                    setError(false);
                    setStage('scene2');
                } else {
                    setError(true);
                    // PequeÃ±a animaciÃ³n de error
                    setTimeout(() => setError(false), 2000);
                }
            };

            const handleSecondDownload = () => {
                // Simular segunda descarga
                setTimeout(() => setStage('closing'), 2000);
                setTimeout(() => setStage('closed'), 3500); // Reset completo
            };

            return (
                <div className="min-h-screen flex items-center justify-center p-4">
                    
                    {/* Contenedor del Libro 3D */}
                    <div className={`book-container relative w-full max-w-4xl h-[600px] flex justify-center items-center ${stage === 'closed' || stage === 'opening' ? 'floating' : ''}`}>
                        
                        <div className={`book w-[350px] md:w-[700px] h-[500px] relative transition-all duration-1000 ${stage !== 'closed' && stage !== 'opening' && stage !== 'closing' ? 'translate-x-0' : ''}`}>
                            
                            {/* INTERIOR DEL LIBRO (Lo que se ve al abrir) */}
                            <div className="book-interior shadow-2xl bg-white flex flex-col md:flex-row">
                                
                                {/* PÃ¡gina Izquierda (Visuales / Personajes) */}
                                <div className="w-full md:w-1/2 bg-blue-50 p-6 flex flex-col items-center justify-center border-r-2 border-gray-100 relative overflow-hidden">
                                    {/* Decoraciones de fondo */}
                                    <div className="absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                                    
                                    {/* Contenido Visual DinÃ¡mico */}
                                    {(stage === 'scene1' || stage === 'password') && (
                                        <div className="fade-in text-center z-10">
                                            <div className="flex justify-center space-x-4 mb-4">
                                                {/* Placeholder Personaje 1 (Nike) */}
                                                <div className="w-24 h-24 rounded-full bg-blue-400 border-4 border-white shadow-lg flex items-center justify-center text-white font-bold text-xs overflow-hidden">
                                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Nike&hairColor=2c1b18&clothing=blazerAndShirt" alt="Hero" className="w-full h-full object-cover" />
                                                </div>
                                                {/* Placeholder Personaje 2 (Kukuri) */}
                                                <div className="w-24 h-24 rounded-full bg-pink-400 border-4 border-white shadow-lg flex items-center justify-center text-white font-bold text-xs overflow-hidden">
                                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Kukuri&hairColor=2c1b18&clothing=collarAndSweater" alt="Mage" className="w-full h-full object-cover" />
                                                </div>
                                            </div>
                                            <h3 className="text-xl font-bold text-blue-900 mb-2">The Adventure Begins</h3>
                                            <p className="text-sm text-gray-600 italic">"Trip Trip Trip!"</p>
                                        </div>
                                    )}

                                    {stage === 'scene2' && (
                                        <div className="fade-in text-center z-10">
                                            <div className="w-32 h-32 mx-auto rounded-full bg-gradient-to-r from-purple-400 to-pink-500 p-1 mb-4 shadow-xl animate-pulse">
                                                <div className="w-full h-full rounded-full bg-white flex items-center justify-center overflow-hidden">
                                                     {/* Icono de corazÃ³n o imagen final */}
                                                     <span className="text-4xl">ðŸ’–</span>
                                                </div>
                                            </div>
                                            <h3 className="text-xl font-bold text-purple-900 pixel-font">Circle of Love</h3>
                                            <p className="text-xs text-purple-600 mt-2">Special Content Unlocked</p>
                                        </div>
                                    )}
                                </div>

                                {/* PÃ¡gina Derecha (InteracciÃ³n / Descargas) */}
                                <div className="w-full md:w-1/2 bg-white p-8 flex flex-col items-center justify-center relative">
                                    <MagicStar style={{ top: '10%', right: '10%' }} />
                                    <MagicStar style={{ bottom: '15%', left: '5%', animationDelay: '1s' }} />

                                    {/* CONTENIDO ESCENA 1 */}
                                    {stage === 'scene1' && (
                                        <div className="text-center fade-in w-full">
                                            <h2 className="text-2xl font-bold text-gray-800 mb-4 pixel-font">Demo v1.0</h2>
                                            <p className="text-gray-600 mb-8 text-sm">
                                                Â¡Bienvenidos a nuestra historia! <br/>
                                                Descarga el primer capÃ­tulo aquÃ­.
                                            </p>
                                            <button 
                                                onClick={handleFirstDownload}
                                                className="group relative w-full px-6 py-3 font-bold text-white bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg shadow-lg hover:scale-105 transition-transform overflow-hidden"
                                            >
                                                <span className="relative z-10 flex items-center justify-center gap-2">
                                                    <DownloadIcon /> Descargar Parte 1
                                                </span>
                                            </button>
                                        </div>
                                    )}

                                    {/* CONTENIDO PASSWORD */}
                                    {stage === 'password' && (
                                        <div className="text-center fade-in w-full">
                                            <div className="mb-4 text-purple-500">
                                                <LockIcon />
                                            </div>
                                            <h2 className="text-xl font-bold text-gray-800 mb-2">Magical Seal</h2>
                                            <p className="text-xs text-gray-500 mb-6">Ingresa la palabra mÃ¡gica encontrada en la descarga...</p>
                                            
                                            <form onSubmit={handlePasswordSubmit} className="w-full">
                                                <input 
                                                    type="text" 
                                                    value={password}
                                                    onChange={(e) => setPassword(e.target.value)}
                                                    placeholder="CÃ³digo secreto..."
                                                    className="w-full px-4 py-2 text-center border-2 border-purple-200 rounded-lg focus:outline-none focus:border-purple-500 mb-2 font-mono uppercase tracking-widest"
                                                />
                                                {error && <p className="text-red-500 text-xs mb-2">Â¡CÃ³digo incorrecto!</p>}
                                                <button 
                                                    type="submit"
                                                    className="w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"
                                                >
                                                    Abrir Sello
                                                </button>
                                            </form>
                                            <p className="text-[10px] text-gray-400 mt-4">* Pista: El nombre de los sacerdotes...</p>
                                        </div>
                                    )}

                                    {/* CONTENIDO ESCENA 2 */}
                                    {stage === 'scene2' && (
                                        <div className="text-center fade-in w-full">
                                            <h2 className="text-2xl font-bold text-pink-600 mb-2 pixel-font">Â¡Ã‰xito!</h2>
                                            <p className="text-gray-600 mb-6 text-sm">
                                                Has completado el cÃ­rculo.<br/>
                                                AquÃ­ tienes el regalo final.
                                            </p>
                                            <div className="bg-pink-50 p-4 rounded-lg mb-6 border border-pink-100">
                                                <p className="font-semibold text-pink-800 text-sm">â™« Now Playing: Circle of Love</p>
                                            </div>
                                            <button 
                                                onClick={handleSecondDownload}
                                                className="w-full px-6 py-3 font-bold text-white bg-gradient-to-r from-pink-500 to-rose-500 rounded-lg shadow-lg hover:scale-105 transition-transform flex items-center justify-center gap-2"
                                            >
                                                <DownloadIcon /> Descargar Final
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* PORTADA (Cubre el interior cuando estÃ¡ cerrado) */}
                            <div className={`book-cover front ${stage !== 'closed' ? 'open-book' : ''}`} style={{
                                transform: (stage === 'closed' || stage === 'closing') ? 'rotateY(0deg)' : 'rotateY(-180deg)'
                            }}>
                                <div className="absolute inset-0 border-4 border-white/30 m-4 rounded-lg flex flex-col items-center justify-center text-center p-8">
                                    <div className="text-6xl mb-6 animate-pulse">âœ¨</div>
                                    <h1 className="text-4xl md:text-5xl font-bold text-white drop-shadow-md pixel-font mb-4 leading-tight">
                                        Circle<br/>of<br/>Love
                                    </h1>
                                    <p className="text-white/90 text-sm font-semibold tracking-widest uppercase mb-8">Magic Three Voices</p>
                                    
                                    {stage === 'closed' && (
                                        <button 
                                            onClick={handleOpenBook}
                                            className="mt-8 bg-white text-pink-500 px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl hover:scale-110 transition-all z-50 animate-bounce"
                                        >
                                            START
                                        </button>
                                    )}
                                    {stage === 'closing' && (
                                        <div className="text-white font-bold text-xl">
                                            Â¡Hasta pronto!
                                        </div>
                                    )}
                                </div>
                            </div>

                        </div>
                    </div>
                    
                    <footer className="fixed bottom-4 text-white/50 text-xs text-center w-full">
                        Hecho con magia para Circle of Love Â© 2025
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
